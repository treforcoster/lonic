import { __decorate, __metadata } from "tslib";
import { Extension } from '@roots/bud-framework/extension';
import { bind, disabled, label, options, } from '@roots/bud-framework/extension/decorators';
/**
 * Interpolate html webpack plugin configuration
 */
let BudInterpolateHtmlExtension = class BudInterpolateHtmlExtension extends Extension {
    /**
     * {@link Extension.make}
     */
    async make(bud) {
        const { InterpolateHtmlWebpackPlugin } = await bud.module.import(`@roots/bud-extensions/interpolate-html-webpack-plugin/plugin`, import.meta.url);
        const HTMLWebpackPlugin = await bud.module.import(`@roots/bud-support/html-webpack-plugin`, import.meta.url);
        return new InterpolateHtmlWebpackPlugin(HTMLWebpackPlugin.Plugin.getHooks, {
            ...(bud.extensions.get(`@roots/bud-extensions/webpack-define-plugin`)?.options ?? {}),
            ...(bud.env.getPublicEnv() ?? {}),
            ...(this.options ?? {}),
        });
    }
};
__decorate([
    bind,
    __metadata("design:type", Function),
    __metadata("design:paramtypes", [Function]),
    __metadata("design:returntype", Promise)
], BudInterpolateHtmlExtension.prototype, "make", null);
BudInterpolateHtmlExtension = __decorate([
    label(`@roots/bud-extensions/interpolate-html-webpack-plugin`),
    options({}),
    disabled
], BudInterpolateHtmlExtension);
export default BudInterpolateHtmlExtension;
//# sourceMappingURL=index.js.map