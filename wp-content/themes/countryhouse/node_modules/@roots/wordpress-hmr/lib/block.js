import { getBlockType, registerBlockType, unregisterBlockType, } from '@wordpress/blocks';
import * as blockStyle from './style.js';
import { filterCallback } from './utility.js';
import * as blockVariant from './variation.js';
/**
 * Register block
 */
export const register = ({ name, filters = {}, styles, variations, ...settings }) => {
    getBlockType(name) && unregister({ name, filters, styles, variations });
    registerBlockType(name, settings);
    styles?.map(style => {
        blockStyle.register({ block: name, ...style });
    });
    variations?.map(variation => blockVariant.register({ block: name, ...variation }));
    filterCallback(filters, name, (filter, api) => api.register(filter));
};
/**
 * Unregister block
 */
export const unregister = ({ name, filters, styles, variations, }) => {
    unregisterBlockType(name);
    styles?.map(style => blockStyle.unregister({ block: name, ...style }));
    variations?.map(variation => blockVariant.unregister({ block: name, ...variation }));
    filterCallback(filters, name, (filter, api) => api.unregister(filter));
};
//# sourceMappingURL=block.js.map